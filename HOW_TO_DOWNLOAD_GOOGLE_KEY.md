# How to Download Google Cloud Service Account JSON Key

## Step-by-Step Guide

### Step 1: Go to Google Cloud Console
1. Visit: https://console.cloud.google.com/
2. Make sure you're in the correct project (check the project dropdown at the top)

### Step 2: Navigate to Service Accounts
1. Click on the **☰ (Menu)** icon (top left)
2. Go to **IAM & Admin** → **Service Accounts**
   - Or directly visit: https://console.cloud.google.com/iam-admin/serviceaccounts

### Step 3: Select Your Service Account
1. You should see a list of service accounts
2. Click on the service account you created (or create a new one if needed)

### Step 4: Create and Download Key
1. In the service account details page, click on the **KEYS** tab (at the top)
2. Click **ADD KEY** → **Create new key**
3. Select **JSON** as the key type
4. Click **CREATE**

### Step 5: Save the Downloaded File
1. The browser will automatically download a JSON file
2. The filename will look like: `your-project-name-xxxxx.json` (usually starts with your project name)
3. **Rename it to:** `google-vision-key.json`
4. **Move it to:** `C:\Car Damage Detection Project\` (your project root folder)

### Step 6: Verify the File Structure
The JSON file should look like this (example):

```json
{
  "type": "service_account",
  "project_id": "your-project-id",
  "private_key_id": "xxxxx",
  "private_key": "-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----\n",
  "client_email": "your-service-account@your-project.iam.gserviceaccount.com",
  "client_id": "xxxxx",
  "auth_uri": "https://accounts.google.com/o/oauth2/auth",
  "token_uri": "https://oauth2.googleapis.com/token",
  "auth_provider_x509_cert_url": "https://www.googleapis.com/oauth2/v1/certs",
  "client_x509_cert_url": "https://www.googleapis.com/robot/v1/metadata/x509/..."
}
```

**Important:** The file should contain:
- `type: "service_account"`
- `project_id`
- `private_key`
- `client_email`
- And other fields as shown above

### Step 7: Set Environment Variable
After placing the file in your project root, set the environment variable:

```powershell
$env:GOOGLE_APPLICATION_CREDENTIALS="C:\Car Damage Detection Project\google-vision-key.json"
```

---

## Quick Checklist

- [ ] Service account created in Google Cloud Console
- [ ] Cloud Vision API enabled for your project
- [ ] JSON key downloaded from Service Account → Keys tab
- [ ] File renamed to `google-vision-key.json`
- [ ] File placed in `C:\Car Damage Detection Project\`
- [ ] Environment variable `GOOGLE_APPLICATION_CREDENTIALS` set
- [ ] File structure verified (contains "service_account" type)

---

## Troubleshooting

### "The file I created doesn't work"
- ❌ **Don't manually create the JSON file**
- ✅ **Download it from Google Cloud Console** (the file must be generated by Google)

### "I can't find the Keys tab"
- Make sure you're viewing the **service account details** page
- Click on your service account name to open its details
- The **KEYS** tab should be visible at the top

### "The file looks different"
- The file you have might be just a hash/token
- You need the full JSON key file with all the fields shown above
- Download a new key from Google Cloud Console

---

## Security Note

⚠️ **Never share or commit this JSON file to Git!**
- It contains private keys that give access to your Google Cloud project
- Make sure it's in your `.gitignore` file



